<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Me</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            position: relative;
            overflow: hidden; /* Prevent scrollbars */
            background-color: #1a202c; /* Dark background for particle contrast */
        }

        #particleCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0; /* Behind the form */
        }

        /* Overlay for better readability over the animated background */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.4); /* Slightly darker overlay for particles */
            z-index: 1; /* Between particles and form */
        }

        /* Custom styles for focus states */
        input:focus, textarea:focus {
            outline: none;
            border-color: #6366f1; /* Indigo 500 */
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.5); /* Indigo 500 with transparency */
        }

        /* Ensure the form content is above the overlay */
        .form-container {
            position: relative;
            z-index: 10; /* Higher z-index than the body::before overlay */
        }
    </style>
</head>
<body>
    <!-- Canvas for the particle animation background -->
    <canvas id="particleCanvas"></canvas>

    <div class="w-full max-w-md bg-white p-6 rounded-xl shadow-lg border border-gray-200 form-container">
        <h2 class="text-2xl font-bold text-gray-800 mb-5 text-center">Get in Touch</h2>
        <p class="text-gray-600 text-center mb-7 text-sm">
            Have a question or want to work together? Fill out the form below!
        </p>

        <form id="contactForm" action="https://api.web3forms.com/submit" method="POST" class="space-y-5">
            <!-- Replace with your Access Key -->
            <input type="hidden" name="access_key" value="ce2eb85e-30f0-407d-8052-db2b94b06a74">

            <!-- Honeypot Spam Protection -->
            <input type="checkbox" name="botcheck" class="hidden" style="display: none;">

            <div>
                <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Name</label>
                <input
                    type="text"
                    name="name"
                    id="name"
                    required
                    placeholder="Your Name"
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ease-in-out"
                >
            </div>

            <div>
                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                <input
                    type="email"
                    name="email"
                    id="email"
                    required
                    placeholder="you@example.com"
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ease-in-out"
                >
            </div>

            <div>
                <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Message</label>
                <textarea
                    name="message"
                    id="message"
                    rows="4"
                    required
                    placeholder="Your message here..."
                    class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm transition duration-150 ease-in-out resize-y"
                ></textarea>
            </div>

            <button
                type="submit"
                id="submitButton"
                class="w-full flex justify-center py-2.5 px-4 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-200 ease-in-out transform hover:scale-105"
            >
                Submit Form
            </button>

            <div id="loadingIndicator" class="hidden text-center text-indigo-600 font-medium text-sm">
                Sending...
            </div>

            <div id="successMessage" class="hidden text-center bg-green-100 border border-green-400 text-green-700 px-3 py-2 rounded-md relative text-sm" role="alert">
                <strong class="font-bold">Success!</strong>
                <span class="block sm:inline">Your message has been sent.</span>
            </div>

            <div id="errorMessage" class="hidden text-center bg-red-100 border border-red-400 text-red-700 px-3 py-2 rounded-md relative text-sm" role="alert">
                <strong class="font-bold">Error!</strong>
                <span class="block sm:inline">Something went wrong. Please try again later.</span>
            </div>
        </form>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('contactForm');
            const submitButton = document.getElementById('submitButton');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');

            form.addEventListener('submit', async (event) => {
                event.preventDefault(); // Prevent default form submission

                // Hide previous messages
                successMessage.classList.add('hidden');
                errorMessage.classList.add('hidden');

                // Show loading indicator and disable button
                submitButton.classList.add('hidden');
                loadingIndicator.classList.remove('hidden');

                const formData = new FormData(form);

                try {
                    const response = await fetch(form.action, {
                        method: form.method,
                        body: formData,
                        headers: {
                            'Accept': 'application/json' // Web3Forms expects this for AJAX submission
                        }
                    });

                    const result = await response.json();

                    if (response.ok && result.success) {
                        successMessage.classList.remove('hidden');
                        form.reset(); // Clear the form fields
                    } else {
                        console.error('Web3Forms Error:', result.message || 'Unknown error');
                        errorMessage.classList.remove('hidden');
                    }
                } catch (error) {
                    console.error('Network or submission error:', error);
                    errorMessage.classList.remove('hidden');
                } finally {
                    // Hide loading indicator and re-enable button
                    loadingIndicator.classList.add('hidden');
                    submitButton.classList.remove('hidden');
                }
            });

            // Particle background animation
            const canvas = document.getElementById('particleCanvas');
            const ctx = canvas.getContext('2d');
            let particles = [];
            const particleCount = 80; // Number of particles
            const maxDistance = 120; // Max distance for lines to connect

            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }

            class Particle {
                constructor(x, y, radius, color, velocity) {
                    this.x = x;
                    this.y = y;
                    this.radius = radius;
                    this.color = color;
                    this.velocity = velocity;
                }

                draw() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);
                    ctx.fillStyle = this.color;
                    ctx.fill();
                }

                update() {
                    this.x += this.velocity.x;
                    this.y += this.velocity.y;

                    // Bounce off walls
                    if (this.x + this.radius > canvas.width || this.x - this.radius < 0) {
                        this.velocity.x = -this.velocity.x;
                    }
                    if (this.y + this.radius > canvas.height || this.y - this.radius < 0) {
                        this.velocity.y = -this.velocity.y;
                    }

                    this.draw();
                }
            }

            function initParticles() {
                particles = [];
                for (let i = 0; i < particleCount; i++) {
                    const radius = Math.random() * 2 + 1; // 1 to 3
                    const x = Math.random() * (canvas.width - radius * 2) + radius;
                    const y = Math.random() * (canvas.height - radius * 2) + radius;
                    const color = `rgba(255, 255, 255, ${Math.random() * 0.5 + 0.2})`; // Semi-transparent white
                    const velocity = {
                        x: (Math.random() - 0.5) * 0.5, // -0.25 to 0.25
                        y: (Math.random() - 0.5) * 0.5
                    };
                    particles.push(new Particle(x, y, radius, color, velocity));
                }
            }

            function animateParticles() {
                requestAnimationFrame(animateParticles);
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                for (let i = 0; i < particles.length; i++) {
                    particles[i].update();

                    for (let j = i; j < particles.length; j++) {
                        const dx = particles[i].x - particles[j].x;
                        const dy = particles[i].y - particles[j].y;
                        const distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < maxDistance) {
                            ctx.beginPath();
                            ctx.moveTo(particles[i].x, particles[i].y);
                            ctx.lineTo(particles[j].x, particles[j].y);
                            ctx.strokeStyle = `rgba(255, 255, 255, ${1 - (distance / maxDistance)})`;
                            ctx.lineWidth = 0.5;
                            ctx.stroke();
                        }
                    }
                }
            }

            // Initialize and start animation
            resizeCanvas();
            initParticles();
            animateParticles();

            // Handle window resize
            window.addEventListener('resize', () => {
                resizeCanvas();
                initParticles(); // Re-initialize particles on resize for better distribution
            });
        });
    </script>
</body>
</html>
